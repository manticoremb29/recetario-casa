<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Recetario Mensual ‚Äî Casa</title>

  <style>
    :root{
      --bg: #fbfbfd;
      --bg2:#fff7f3;
      --card:#ffffff;
      --text:#111827;
      --muted:#6b7280;
      --line:#e5e7eb;
      --shadow: 0 18px 50px rgba(17,24,39,.10);
      --shadow2: 0 10px 25px rgba(17,24,39,.08);
      --accent:#ff6b6b;
      --accent2:#7c3aed;
      --good:#10b981;
      --chip:#f3f4f6;
      --btn:#111827;
      --btnText:#ffffff;
      --soft1:#ffe7e7;
      --soft2:#e8f1ff;
      --soft3:#fff2d9;
      --soft4:#e9fbf3;
      --radius:18px;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 10% -10%, rgba(255,107,107,.18), transparent 60%),
        radial-gradient(1200px 700px at 90% -20%, rgba(124,58,237,.16), transparent 55%),
        linear-gradient(180deg, var(--bg2) 0%, var(--bg) 45%, #ffffff 100%);
    }

    .wrap{ max-width:1120px; margin:0 auto; padding:22px; }

    /* Header */
    .hero{
      display:flex; gap:16px; align-items:stretch; justify-content:space-between;
      background: rgba(255,255,255,.78);
      border:1px solid var(--line);
      border-radius: var(--radius);
      padding:16px;
      box-shadow: var(--shadow2);
      backdrop-filter: blur(8px);
      overflow:hidden;
    }
    .heroLeft{ flex: 1; min-width: 240px; }
    .heroTitle{
      margin:0;
      font-size:22px;
      letter-spacing:-.02em;
      display:flex; align-items:center; gap:10px;
    }
    .heroSub{ margin:6px 0 0; color:var(--muted); line-height:1.35; }

    .heroBadges{ display:flex; gap:10px; flex-wrap:wrap; margin-top:12px; }
    .badge{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 10px;
      border-radius:999px;
      background:var(--chip);
      border:1px solid var(--line);
      font-size:12px;
      color: #374151;
    }
    .dot{ width:8px; height:8px; border-radius:999px; background:var(--good); }

    .heroRight{
      width: 330px;
      border-radius: 16px;
      background: linear-gradient(135deg, rgba(255,107,107,.16), rgba(124,58,237,.12));
      border:1px solid rgba(229,231,235,.8);
      position:relative;
      overflow:hidden;
      display:flex; align-items:flex-end; justify-content:flex-start;
      padding:14px;
    }
    .heroImg{
      position:absolute; inset:0;
      background-size:cover;
      background-position:center;
      filter: saturate(1.05) contrast(1.05);
      opacity:.92;
    }
    .heroOverlay{
      position:absolute; inset:0;
      background: linear-gradient(180deg, rgba(255,255,255,.00) 0%, rgba(255,255,255,.86) 72%, rgba(255,255,255,.95) 100%);
    }
    .heroCaption{
      position:relative;
      z-index:2;
      width:100%;
      display:flex; justify-content:space-between; align-items:end; gap:10px;
    }
    .heroCaption h2{
      margin:0;
      font-size:14px;
      color:#111827;
      letter-spacing:-.01em;
    }
    .heroCaption p{
      margin:2px 0 0;
      font-size:12px;
      color:var(--muted);
    }
    .miniChip{
      position:relative;
      z-index:2;
      padding:8px 10px;
      border-radius: 12px;
      background: rgba(255,255,255,.85);
      border:1px solid rgba(229,231,235,.9);
      font-size:12px;
      color:#111827;
      box-shadow: 0 8px 20px rgba(17,24,39,.10);
      white-space:nowrap;
    }

    /* Layout */
    .grid{ display:grid; gap:14px; grid-template-columns: 1fr; margin-top:14px; }
    @media (min-width: 980px){ .grid{ grid-template-columns: 380px 1fr; } }

    .card{
      background: rgba(255,255,255,.85);
      border:1px solid var(--line);
      border-radius: var(--radius);
      padding:16px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
    }

    label{ display:block; font-size:12px; color:var(--muted); margin:10px 0 6px; }
    select{
      width:100%;
      padding:12px 12px;
      border-radius: 14px;
      border:1px solid var(--line);
      background:#ffffff;
      color:var(--text);
      outline:none;
      box-shadow: 0 6px 16px rgba(17,24,39,.06);
    }

    .btns{ display:flex; gap:10px; margin-top:12px; flex-wrap:wrap; }
    button{
      cursor:pointer;
      border:1px solid var(--line);
      background:#ffffff;
      color:#111827;
      padding:10px 12px;
      border-radius: 14px;
      box-shadow: 0 8px 18px rgba(17,24,39,.06);
      transition: transform .08s ease, filter .12s ease;
    }
    button:hover{ filter:brightness(1.02); transform: translateY(-1px); }
    button.primary{
      background: var(--btn);
      color: var(--btnText);
      border-color: rgba(17,24,39,.0);
    }
    button.ghost{
      background: rgba(255,107,107,.10);
      border-color: rgba(255,107,107,.22);
    }

    .hr{ height:1px; background:var(--line); margin:14px 0; }

    .pillRow{ display:flex; gap:8px; flex-wrap:wrap; margin-bottom:10px; }
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 10px; border-radius:999px;
      border:1px solid var(--line);
      background: #ffffff;
      font-size:12px; color:#374151;
    }
    .pill strong{ color:#111827; }
    .spark{ width:18px; height:18px; border-radius:6px; display:inline-flex; align-items:center; justify-content:center; }
    .spark.s1{ background:var(--soft1); }
    .spark.s2{ background:var(--soft2); }
    .spark.s3{ background:var(--soft3); }
    .spark.s4{ background:var(--soft4); }

    .title{
      margin:6px 0 2px;
      font-size:20px;
      letter-spacing:-.02em;
    }
    .subtitle{ margin:0 0 10px; color:var(--muted); }

    .twoCols{ display:grid; gap:14px; grid-template-columns: 1fr; }
    @media (min-width: 980px){ .twoCols{ grid-template-columns: 1fr 1fr; } }

    .sectionTitle{
      margin:10px 0 8px;
      font-size:12px;
      color:var(--muted);
      text-transform:uppercase;
      letter-spacing:.10em;
    }
    ul,ol{ margin:8px 0 0 18px; }
    li{ margin:6px 0; line-height:1.35; }

    .hint{
      font-size:12px; color:var(--muted); line-height:1.35;
      background: rgba(124,58,237,.06);
      border:1px solid rgba(124,58,237,.14);
      padding:10px 12px;
      border-radius: 14px;
    }

    .footer{
      margin-top:14px;
      font-size:12px;
      color:var(--muted);
      text-align:left;
    }

    @media print{
      body{ background:white; }
      .heroRight, .btns, select{ display:none !important; }
      .card, .hero{ box-shadow:none; background:white; }
    }
  </style>
</head>

<body>
  <div class="wrap">

    <div class="hero">
      <div class="heroLeft">
        <h1 class="heroTitle">üçΩÔ∏è Recetario Mensual (Semana + D√≠a)</h1>
        <p class="heroSub">Elige la semana y el d√≠a, y te sale el men√∫ con preparaci√≥n paso a paso. Hecho para cosas f√°ciles de conseguir en Cartagena.</p>

        <div class="heroBadges">
          <div class="badge"><span class="dot"></span><span id="todayBadge">Hoy: ‚Äî</span></div>
          <div class="badge">‚è±Ô∏è 30‚Äì45 min aprox</div>
          <div class="badge">üçö Arroz con sabor</div>
          <div class="badge">ü•ó Ensaladas variadas</div>
        </div>
      </div>

      <div class="heroRight">
        <div class="heroImg" id="heroImg"></div>
        <div class="heroOverlay"></div>

        <div class="heroCaption">
          <div>
            <h2 id="heroTitle">Tu men√∫ del d√≠a</h2>
            <p id="heroDesc">Selecciona semana y d√≠a</p>
          </div>
          <div class="miniChip" id="heroChip">‚ú®</div>
        </div>
      </div>
    </div>

    <div class="grid">
      <!-- Controls -->
      <div class="card">
        <div class="pillRow">
          <div class="pill"><span class="spark s1">üìÖ</span> <strong id="pillWeek">SEMANA 1</strong></div>
          <div class="pill"><span class="spark s2">üóìÔ∏è</span> <strong id="pillDay">LUNES</strong></div>
          <div class="pill"><span class="spark s3">üç≥</span> <span id="pillType">‚Äî</span></div>
        </div>

        <label for="weekSelect">Semana</label>
        <select id="weekSelect"></select>

        <label for="daySelect">D√≠a</label>
        <select id="daySelect"></select>

        <div class="btns">
          <button class="primary" id="showBtn">Ver men√∫</button>
          <button id="printBtn">Imprimir</button>
          <button class="ghost" id="copyBtn">Copiar receta</button>
        </div>

        <div class="hr"></div>
        <div class="hint">
          Tip: puedes fijar la semana del mes y cada d√≠a solo abres esto, eliges d√≠a, y cocinas.  
          (Si un d√≠a cambias prote√≠na, no pasa nada ‚Äî usa el paso a paso como gu√≠a).
        </div>
      </div>

      <!-- Content -->
      <div class="card" id="content">
        <div class="subtitle">Selecciona Semana + D√≠a y pulsa <b>Ver men√∫</b>.</div>
      </div>
    </div>

    <div class="footer">Hecho con amor para casa ü´∂ ‚Äî ingredientes f√°ciles (√âxito, Ol√≠mpica, Ara, D1, mercado).</div>
  </div>

<script>
  // =========================
  // IM√ÅGENES (gratis, lindas, por tipo)
  // Son de picsum con seeds (no necesitas API keys).
  // Si prefieres fotos "m√°s comida real": te adapto a Unsplash.
  // =========================
  const IMG_BY_TAG = {
    pollo:  "https://picsum.photos/seed/pollo-casa/1000/650",
    res:    "https://picsum.photos/seed/res-casa/1000/650",
    cerdo:  "https://picsum.photos/seed/cerdo-casa/1000/650",
    salmon: "https://picsum.photos/seed/salmon-casa/1000/650",
    frijol: "https://picsum.photos/seed/frijol-casa/1000/650",
    default:"https://picsum.photos/seed/cocina-casa/1000/650"
  };

  // =========================
  // TU RECETARIO (el mismo contenido que ya ten√≠as)
  // =========================
  const RECETARIO = {
    "SEMANA 1": {
      "LUNES": {
        titulo: "Pechuga en cubos salteada con piment√≥n, cebolla y ajo",
        menu: [
          "Pechuga en cubos salteada con piment√≥n, cebolla y ajo",
          "Arroz de ajo",
          "Ensalada: aguacate + tomate + cebolla"
        ],
        ingredientes: [
          "Pechuga (600 g total para 3 personas)",
          "1/2 piment√≥n, 1 cebolla cabezona o 2 cebollas largas",
          "3‚Äì4 dientes de ajo",
          "Aceite, sal, pimienta, lim√≥n (opcional)",
          "Arroz + ajo para sofre√≠r",
          "Aguacate, tomate, cebolla, lim√≥n, sal"
        ],
        pasos: [
          "Corta la pechuga en cubos. Sazona con sal, pimienta y (opcional) lim√≥n.",
          "En sart√©n caliente con aceite: sofr√≠e ajo + cebolla 2‚Äì3 min.",
          "Agrega piment√≥n en tiras, 2 min.",
          "A√±ade la pechuga y saltea 8‚Äì10 min hasta dorar y que no quede rosada.",
          "Arroz de ajo: sofr√≠e ajo picado en aceite 30 seg, agrega arroz, mezcla, a√±ade agua y sal; cocina normal.",
          "Ensalada: pica tomate + cebolla, agrega aguacate al final, lim√≥n y sal."
        ]
      },
      "MARTES": {
        titulo: "Carne molida guisada criolla",
        menu: [
          "Carne molida guisada criolla (tomate, cebolla larga, comino)",
          "Arroz palito",
          "Tajadas de pl√°tano maduro",
          "Ensalada: pepino + tomate + cebolla + lechuga + lim√≥n"
        ],
        ingredientes: [
          "Carne molida (600 g)",
          "2 tomates, 1 cebolla larga, 2 dientes de ajo",
          "Comino, sal, pimienta (opcional: color/achiote)",
          "Arroz + palito (cebolla larga/cilantro) para dar sabor",
          "1‚Äì2 pl√°tanos maduros",
          "Pepino, lechuga, tomate, cebolla, lim√≥n"
        ],
        pasos: [
          "Pica tomate, cebolla larga y ajo (hogao).",
          "Sofr√≠e el hogao 3‚Äì5 min. Agrega comino y sal.",
          "A√±ade la carne molida, mezcla y cocina 10‚Äì12 min hasta que quede suelta y bien cocida.",
          "Arroz palito: al agua del arroz a√±ade cebolla larga/cilantro picado y un toque de sal.",
          "Tajadas: corta el maduro, airfryer 180‚Äì200¬∞C 10‚Äì14 min (voltea a mitad) o sart√©n.",
          "Ensalada: pepino + lechuga + tomate + cebolla, lim√≥n y sal."
        ]
      },
      "MI√âRCOLES": {
        titulo: "Cerdo asado simple (sal y pimienta) + patac√≥n",
        menu: [
          "Cerdo asado (sal y pimienta)",
          "Patac√≥n",
          "Ensalada: zanahoria rallada + cebolla + tomate + aguacate"
        ],
        ingredientes: [
          "Cerdo (600 g) (lomo/chuleta/pulpa)",
          "Sal, pimienta, aceite",
          "Pl√°tano verde (1 grande o 2 medianos)",
          "Zanahoria, tomate, cebolla, aguacate, lim√≥n"
        ],
        pasos: [
          "Sazona el cerdo con sal y pimienta. (Opcional: lim√≥n/ajo si quieres m√°s sabor).",
          "Sella en sart√©n 2‚Äì3 min por lado. Luego termina en sart√©n tapado 6‚Äì8 min o en horno 200¬∞C 12‚Äì15 min seg√∫n grosor.",
          "Patac√≥n: corta el pl√°tano verde en trozos, airfryer 180¬∞C 8 min, aplasta, vuelve a airfryer 200¬∞C 6‚Äì8 min con sal.",
          "Ensalada: zanahoria rallada + tomate + cebolla; agrega aguacate al final, lim√≥n y sal."
        ]
      },
      "JUEVES": {
        titulo: "Lomo fino a la plancha + arroz espinaca",
        menu: [
          "Lomo fino a la plancha",
          "Arroz con espinaca",
          "Ensalada: lechuga + ma√≠z + tomate"
        ],
        ingredientes: [
          "Lomo fino (600 g)",
          "Sal, pimienta, mantequilla o aceite, ajo (opcional)",
          "Arroz + espinaca + ajo",
          "Lechuga, tomate, ma√≠z"
        ],
        pasos: [
          "Sazona el lomo con sal y pimienta.",
          "Sart√©n muy caliente: 2‚Äì3 min por lado (t√©rmino medio) o 3‚Äì4 min por lado (m√°s cocido). Reposa 3 min.",
          "Arroz espinaca: lic√∫a espinaca con un poquito de agua; usa ese l√≠quido para el arroz. Sofr√≠e ajo, agrega arroz + l√≠quido verde, sal.",
          "Ensalada: lechuga + tomate + ma√≠z, lim√≥n y sal."
        ]
      },
      "VIERNES": {
        titulo: "Pechuga asada con lim√≥n y or√©gano + patac√≥n pochocho",
        menu: [
          "Pechuga asada con lim√≥n y or√©gano",
          "Patac√≥n pochocho",
          "Ensalada: verduras salteadas"
        ],
        ingredientes: [
          "Pechuga (600 g)",
          "Lim√≥n, or√©gano, sal, pimienta (opcional: ajo)",
          "Pl√°tano pochocho (o maduro firme) para patac√≥n",
          "Verduras para saltear: zanahoria, calabac√≠n, cebolla, piment√≥n (lo que haya)"
        ],
        pasos: [
          "Marina la pechuga con lim√≥n + or√©gano + sal + pimienta 10 min.",
          "Asa en sart√©n/plancha 4‚Äì6 min por lado (seg√∫n grosor).",
          "Patac√≥n pochocho: pre-cocina airfryer 180¬∞C 8‚Äì10 min, aplasta y termina 200¬∞C 6‚Äì8 min con sal.",
          "Verduras salteadas: en sart√©n con ajo, saltea 6‚Äì8 min (crocantes)."
        ]
      }
    },

    "SEMANA 2": {
      "LUNES": {
        titulo: "Carne molida salteada con zanahoria y cebolla + patac√≥n verde",
        menu: [
          "Carne molida salteada con zanahoria y cebolla",
          "Patac√≥n verde",
          "Ensalada: aguacate + tomate + cebolla"
        ],
        ingredientes: [
          "Carne molida (600 g)",
          "Zanahoria, cebolla, ajo",
          "Sal, pimienta (opcional: comino)",
          "Pl√°tano verde",
          "Aguacate, tomate, cebolla"
        ],
        pasos: [
          "Sofr√≠e ajo + cebolla 2‚Äì3 min.",
          "Agrega zanahoria y cocina 2 min.",
          "A√±ade carne, sal, pimienta (y comino opcional) y cocina 10‚Äì12 min.",
          "Patac√≥n: 180¬∞C 8 min, aplasta, 200¬∞C 6‚Äì8 min.",
          "Ensalada cl√°sica con lim√≥n y sal."
        ]
      },
      "MARTES": {
        titulo: "Cerdo guisado casero + papas airfryer + ensalada pepino lim√≥n",
        menu: [
          "Cerdo guisado estilo casero (tomate y ajo)",
          "Papas en airfryer",
          "Ensalada: pepino + lim√≥n"
        ],
        ingredientes: [
          "Cerdo (600 g)",
          "Tomate, ajo (opcional: cebolla)",
          "Papas, aceite, sal",
          "Pepino, lim√≥n, sal"
        ],
        pasos: [
          "Sofr√≠e ajo + tomate (y cebolla si quieres) 3‚Äì5 min.",
          "Agrega el cerdo, salpimienta y mezcla.",
          "A√±ade un chorrito de agua, tapa y cocina 15‚Äì20 min.",
          "Papas: en cubos, aceite + sal, airfryer 200¬∞C 15‚Äì20 min.",
          "Pepino con lim√≥n y sal."
        ]
      },
      "MI√âRCOLES": {
        titulo: "Frijoles rojos + carne asada + arroz con ajo + maduro asado",
        menu: [
          "Frijoles rojos",
          "Carne asada",
          "Arroz con ajo",
          "Maduro asado",
          "Ensalada: repollo + zanahoria"
        ],
        ingredientes: [
          "Frijol rojo + ali√±os al gusto",
          "Carne asada (600 g)",
          "Arroz + ajo",
          "Pl√°tano maduro",
          "Repollo, zanahoria, lim√≥n, sal"
        ],
        pasos: [
          "Cocina los frijoles hasta ablandar (ideal si remojas antes).",
          "Haz hogao y mezcla con los frijoles para dar sabor.",
          "Carne: salpimienta y plancha 3‚Äì4 min por lado.",
          "Arroz de ajo: sofr√≠e ajo 30 seg, agrega arroz, agua y sal.",
          "Maduro: airfryer 200¬∞C 10‚Äì14 min.",
          "Ensalada: repollo + zanahoria + lim√≥n + sal."
        ]
      },
      "JUEVES": {
        titulo: "Salm√≥n sellado con mantequilla y ajo + arroz lim√≥n + papas airfryer",
        menu: [
          "Salm√≥n sellado con mantequilla y ajo",
          "Arroz con lim√≥n",
          "Papas airfryer",
          "Ensalada: espinaca fresca"
        ],
        ingredientes: [
          "Salm√≥n (3 filetes)",
          "Mantequilla, ajo, lim√≥n, sal, pimienta",
          "Arroz + lim√≥n",
          "Papas",
          "Espinaca, lim√≥n, sal"
        ],
        pasos: [
          "Salm√≥n: sal y pimienta. Sart√©n caliente, 3‚Äì4 min, voltea 2 min; agrega mantequilla + ajo y ba√±a.",
          "Arroz: al final agrega jugo de lim√≥n y ralladura (poquita).",
          "Papas airfryer 200¬∞C 15‚Äì20 min.",
          "Ensalada de espinaca con lim√≥n y sal."
        ]
      },
      "VIERNES": {
        titulo: "Lomo sellado con pimienta + patac√≥n pochocho + ensalada",
        menu: [
          "Lomo sellado con pimienta",
          "Patac√≥n pochocho",
          "Ensalada: lechuga + tomate + cebolla"
        ],
        ingredientes: [
          "Lomo fino (600 g)",
          "Pimienta, sal, aceite/mantequilla",
          "Pl√°tano pochocho",
          "Lechuga, tomate, cebolla, lim√≥n"
        ],
        pasos: [
          "Sazona lomo con sal y pimienta.",
          "Sella 2‚Äì3 min por lado y reposa 3 min.",
          "Patac√≥n pochocho: 180¬∞C 8‚Äì10 min, aplasta, 200¬∞C 6‚Äì8 min.",
          "Ensalada fresca con lim√≥n y sal."
        ]
      }
    },

    "SEMANA 3": {
      "LUNES": {
        titulo: "Cerdo a la plancha + arroz palito + papas airfryer",
        menu: [
          "Cerdo a la plancha",
          "Arroz palito",
          "Papas airfryer",
          "Ensalada: aguacate + tomate + cebolla"
        ],
        ingredientes: [
          "Cerdo (600 g)",
          "Sal, pimienta (opcional: ajo)",
          "Arroz + cebolla larga/cilantro",
          "Papas",
          "Aguacate, tomate, cebolla"
        ],
        pasos: [
          "Sazona el cerdo y coc√≠nalo a la plancha 4‚Äì6 min por lado.",
          "Arroz palito con cebolla larga/cilantro para sabor.",
          "Papas airfryer 200¬∞C 15‚Äì20 min.",
          "Ensalada cl√°sica."
        ]
      },
      "MARTES": {
        titulo: "Pechuga asada + patac√≥n verde + ensalada pepino lim√≥n",
        menu: [
          "Pechuga asada",
          "Patac√≥n verde",
          "Ensalada: pepino + lim√≥n"
        ],
        ingredientes: [
          "Pechuga (600 g)",
          "Sal, pimienta, lim√≥n (opcional)",
          "Pl√°tano verde",
          "Pepino, lim√≥n, sal"
        ],
        pasos: [
          "Sazona pechuga, √°sala 4‚Äì6 min por lado.",
          "Patac√≥n: 180¬∞C 8 min, aplasta, 200¬∞C 6‚Äì8 min.",
          "Pepino con lim√≥n y sal."
        ]
      },
      "MI√âRCOLES": {
        titulo: "Carne molida + arroz ajo + ensalada repollo zanahoria",
        menu: [
          "Carne molida (r√°pida con ajo y cebolla)",
          "Arroz con ajo",
          "Ensalada: repollo + zanahoria"
        ],
        ingredientes: [
          "Carne molida (600 g)",
          "Ajo, cebolla, sal, pimienta",
          "Arroz + ajo",
          "Repollo, zanahoria, lim√≥n"
        ],
        pasos: [
          "Sofr√≠e ajo + cebolla, agrega carne, salpimienta y cocina 10‚Äì12 min.",
          "Arroz de ajo.",
          "Ensalada repollo + zanahoria con lim√≥n."
        ]
      },
      "JUEVES": {
        titulo: "Salm√≥n al sart√©n con lim√≥n y pimienta + arroz blanco + vegetales airfryer",
        menu: [
          "Salm√≥n al sart√©n con lim√≥n y pimienta",
          "Arroz blanco",
          "Vegetales airfryer",
          "Ensalada: espinaca + mango biche"
        ],
        ingredientes: [
          "Salm√≥n (3 filetes)",
          "Lim√≥n, pimienta, sal",
          "Arroz",
          "Vegetales: br√≥coli/zanahoria/calabac√≠n/piment√≥n (lo que haya)",
          "Espinaca, mango biche, lim√≥n, sal"
        ],
        pasos: [
          "Salm√≥n: sal, pimienta y lim√≥n. Sart√©n 3‚Äì4 min por lado.",
          "Arroz blanco normal.",
          "Vegetales: aceite + sal, airfryer 190‚Äì200¬∞C 10‚Äì14 min.",
          "Ensalada: espinaca + tiritas de mango biche + lim√≥n + sal."
        ]
      },
      "VIERNES": {
        titulo: "Lomo fino a la plancha con ajo + arroz ajo + patac√≥n pochocho",
        menu: [
          "Lomo fino a la plancha con ajo",
          "Arroz con ajo",
          "Patac√≥n pochocho",
          "Ensalada: tomate + queso coste√±o"
        ],
        ingredientes: [
          "Lomo fino (600 g)",
          "Ajo, sal, pimienta",
          "Arroz + ajo",
          "Pl√°tano pochocho",
          "Tomate + queso coste√±o"
        ],
        pasos: [
          "Sella el lomo 2‚Äì3 min por lado; al final agrega ajo 30 seg y ba√±a la carne.",
          "Arroz de ajo.",
          "Patac√≥n pochocho en airfryer.",
          "Ensalada: tomate con cubitos de queso coste√±o."
        ]
      }
    },

    "SEMANA 4": {
      "LUNES": {
        titulo: "Pechuga salteada con champi√±ones y cebolla + arroz espinaca",
        menu: [
          "Pechuga salteada con champi√±ones y cebolla",
          "Arroz espinaca",
          "Papas airfryer",
          "Ensalada: aguacate + tomate + cebolla"
        ],
        ingredientes: [
          "Pechuga (600 g)",
          "Champi√±ones, cebolla (opcional: ajo)",
          "Arroz + espinaca",
          "Papas",
          "Aguacate, tomate, cebolla"
        ],
        pasos: [
          "Saltea cebolla 2 min; agrega champi√±ones 4 min.",
          "A√±ade pechuga en tiras/cubos, salpimienta y cocina 8‚Äì10 min.",
          "Arroz espinaca.",
          "Papas airfryer 200¬∞C 15‚Äì20 min.",
          "Ensalada cl√°sica."
        ]
      },
      "MARTES": {
        titulo: "Cerdo al horno con paprika y miel ligera + arroz ajo + patac√≥n verde",
        menu: [
          "Cerdo al horno con especias dulces (paprika y miel ligera)",
          "Arroz con ajo",
          "Patac√≥n verde",
          "Ensalada: pepino lim√≥n"
        ],
        ingredientes: [
          "Cerdo (600 g)",
          "Paprika, sal, pimienta, 1 cucharadita de miel (opcional), lim√≥n",
          "Arroz + ajo",
          "Pl√°tano verde",
          "Pepino, lim√≥n"
        ],
        pasos: [
          "Unta el cerdo con paprika + sal + pimienta + gotica de miel (opcional) + lim√≥n.",
          "Horno 200¬∞C 15‚Äì22 min seg√∫n grosor (o sart√©n tapado).",
          "Arroz de ajo.",
          "Patac√≥n verde en airfryer.",
          "Pepino con lim√≥n y sal."
        ]
      },
      "MI√âRCOLES": {
        titulo: "Frijoles rojos con carne molida criolla + arroz blanco + maduro airfryer",
        menu: [
          "Frijoles rojos con carne molida criolla",
          "Arroz blanco",
          "Maduro airfryer",
          "Ensalada: repollo + zanahoria"
        ],
        ingredientes: [
          "Frijol rojo",
          "Carne molida (300‚Äì600 g seg√∫n quieran)",
          "Hogao: tomate + cebolla + ajo + comino",
          "Arroz",
          "Pl√°tano maduro",
          "Repollo, zanahoria, lim√≥n"
        ],
        pasos: [
          "Cocina frijoles hasta que est√©n blanditos.",
          "Haz hogao y agrega a los frijoles para sabor.",
          "Carne molida criolla: hogao + comino + carne 10‚Äì12 min; mezcla con los frijoles al final.",
          "Arroz blanco normal.",
          "Maduro: airfryer 200¬∞C 10‚Äì14 min.",
          "Ensalada repollo + zanahoria con lim√≥n."
        ]
      },
      "JUEVES": {
        titulo: "Pechuga en tiras en crema (Finesse) + arroz espinaca + ensalada espinaca",
        menu: [
          "Pechuga en tiras en crema (Finesse)",
          "Arroz espinaca",
          "Ensalada: espinaca fresca"
        ],
        ingredientes: [
          "Pechuga (600 g)",
          "Crema Finesse (o crema ligera), ajo, cebolla",
          "Arroz + espinaca",
          "Espinaca + lim√≥n + sal"
        ],
        pasos: [
          "Saltea cebolla + ajo 2 min.",
          "Agrega pechuga en tiras, salpimienta y cocina 6‚Äì8 min.",
          "Baja el fuego, a√±ade crema Finesse y mezcla 2‚Äì3 min (sin hervir fuerte).",
          "Arroz espinaca.",
          "Ensalada de espinaca con lim√≥n y sal."
        ]
      },
      "VIERNES": {
        titulo: "Lomo fino grillado con romero y ajo + arroz palito + patac√≥n pochocho",
        menu: [
          "Lomo fino grillado con romero y ajo",
          "Arroz palito",
          "Patac√≥n pochocho",
          "Ensalada: lechuga + tomate"
        ],
        ingredientes: [
          "Lomo fino (600 g)",
          "Romero (seco sirve), ajo, sal, pimienta",
          "Arroz + cebolla larga/cilantro",
          "Pl√°tano pochocho",
          "Lechuga, tomate, lim√≥n"
        ],
        pasos: [
          "Sazona lomo con sal, pimienta, romero y ajo.",
          "Plancha/sart√©n: 2‚Äì3 min por lado (o al gusto). Reposa 3 min.",
          "Arroz palito.",
          "Patac√≥n pochocho en airfryer.",
          "Ensalada lechuga + tomate con lim√≥n y sal."
        ]
      }
    }
  };

  const WEEK_ORDER = ["SEMANA 1","SEMANA 2","SEMANA 3","SEMANA 4"];
  const DAY_ORDER  = ["LUNES","MARTES","MI√âRCOLES","JUEVES","VIERNES"];

  // =========================
  // Helpers: detectar tipo para imagen/chip
  // =========================
  function detectTag(titulo, menuArr){
    const text = (titulo + " " + (menuArr||[]).join(" ")).toLowerCase();
    if (text.includes("salm√≥n") || text.includes("salmon")) return "salmon";
    if (text.includes("frijol")) return "frijol";
    if (text.includes("pechuga") || text.includes("pollo")) return "pollo";
    if (text.includes("cerdo")) return "cerdo";
    if (text.includes("lomo") || text.includes("res") || text.includes("carne asada")) return "res";
    if (text.includes("carne molida")) return "res";
    return "default";
  }

  function tagLabel(tag){
    return ({
      pollo:"Pollo / Pechuga",
      res:"Res",
      cerdo:"Cerdo",
      salmon:"Salm√≥n",
      frijol:"Fr√≠joles",
      default:"Cocina"
    })[tag] || "Cocina";
  }

  function emojiByTag(tag){
    return ({
      pollo:"üçó",
      res:"ü•©",
      cerdo:"üêñ",
      salmon:"üêü",
      frijol:"ü´ò",
      default:"üçΩÔ∏è"
    })[tag] || "üçΩÔ∏è";
  }

  function escapeHtml(str){
    return String(str)
      .replaceAll("&","&amp;")
      .replaceAll("<","&lt;")
      .replaceAll(">","&gt;")
      .replaceAll('"',"&quot;")
      .replaceAll("'","&#039;");
  }

  // =========================
  // UI
  // =========================
  const weekSelect = document.getElementById("weekSelect");
  const daySelect  = document.getElementById("daySelect");
  const content    = document.getElementById("content");

  const heroImg   = document.getElementById("heroImg");
  const heroTitle = document.getElementById("heroTitle");
  const heroDesc  = document.getElementById("heroDesc");
  const heroChip  = document.getElementById("heroChip");

  const pillWeek  = document.getElementById("pillWeek");
  const pillDay   = document.getElementById("pillDay");
  const pillType  = document.getElementById("pillType");

  function fillSelect(el, items){
    el.innerHTML = "";
    items.forEach(v=>{
      const opt = document.createElement("option");
      opt.value = v;
      opt.textContent = v;
      el.appendChild(opt);
    });
  }

  function buildNiceExtras(data){
    // Extras "cari√±osos" + din√°micos sin complicar: mise en place y tips
    const mise = [
      "Lava y pica verduras (cebolla, tomate, pepino) en 5‚Äì7 minutos.",
      "Deja el arroz medido (taza) y el ajo listo.",
      "Saca la prote√≠na 10 min antes para que no quede fr√≠a por dentro."
    ];
    const tips = [
      "Si quieres m√°s sabor: termina con un chorrito de lim√≥n al final.",
      "Si el arroz te queda simple: agrega ajo sofrito o cebolla larga.",
      "Para ensaladas: lim√≥n + sal + toque de aceite = listo."
    ];

    return `
      <div class="twoCols">
        <div>
          <div class="sectionTitle">üß∫ Mise en place (dejar listo)</div>
          <ul>${mise.map(x=>`<li>${escapeHtml(x)}</li>`).join("")}</ul>
        </div>
        <div>
          <div class="sectionTitle">‚ú® Tips r√°pidos</div>
          <ul>${tips.map(x=>`<li>${escapeHtml(x)}</li>`).join("")}</ul>
        </div>
      </div>
    `;
  }

  function render(){
    const w = weekSelect.value;
    const d = daySelect.value;
    const data = RECETARIO?.[w]?.[d];

    pillWeek.textContent = w;
    pillDay.textContent  = d;

    if(!data){
      content.innerHTML = `<div class="subtitle">No hay receta para ${escapeHtml(w)} - ${escapeHtml(d)}.</div>`;
      heroImg.style.backgroundImage = `url(${IMG_BY_TAG.default})`;
      heroTitle.textContent = "Tu men√∫ del d√≠a";
      heroDesc.textContent = "Selecciona semana y d√≠a";
      heroChip.textContent = "‚ú®";
      pillType.textContent = "‚Äî";
      return;
    }

    const tag = detectTag(data.titulo, data.menu);
    const img = IMG_BY_TAG[tag] || IMG_BY_TAG.default;

    heroImg.style.backgroundImage = `url(${img})`;
    heroTitle.textContent = `${emojiByTag(tag)} ${data.titulo}`;
    heroDesc.textContent  = `${w} ¬∑ ${d}`;
    heroChip.textContent  = `${emojiByTag(tag)} ${tagLabel(tag)}`;

    pillType.textContent = `${emojiByTag(tag)} ${tagLabel(tag)}`;

    content.innerHTML = `
      <div class="pillRow">
        <div class="pill"><span class="spark s4">‚úÖ</span> <strong>${escapeHtml(w)} ¬∑ ${escapeHtml(d)}</strong></div>
        <div class="pill"><span class="spark s2">${emojiByTag(tag)}</span> ${escapeHtml(tagLabel(tag))}</div>
        <div class="pill"><span class="spark s1">üßÇ</span> F√°cil y casero</div>
      </div>

      <div class="title">${escapeHtml(data.titulo)}</div>
      <div class="subtitle">Men√∫ del d√≠a</div>
      <ul>${data.menu.map(x=>`<li>${escapeHtml(x)}</li>`).join("")}</ul>

      <div class="hr"></div>

      <div class="twoCols">
        <div>
          <div class="sectionTitle">üßæ Ingredientes (aprox)</div>
          <ul>${data.ingredientes.map(x=>`<li>${escapeHtml(x)}</li>`).join("")}</ul>
        </div>
        <div>
          <div class="sectionTitle">üë©‚Äçüç≥ Preparaci√≥n paso a paso</div>
          <ol>${data.pasos.map(x=>`<li>${escapeHtml(x)}</li>`).join("")}</ol>
        </div>
      </div>

      <div class="hr"></div>

      ${buildNiceExtras(data)}
    `;
  }

  // Init selects
  fillSelect(weekSelect, WEEK_ORDER);
  fillSelect(daySelect, DAY_ORDER);

  document.getElementById("showBtn").addEventListener("click", render);
  document.getElementById("printBtn").addEventListener("click", ()=>window.print());

  document.getElementById("copyBtn").addEventListener("click", async ()=>{
    const w = weekSelect.value;
    const d = daySelect.value;
    const data = RECETARIO?.[w]?.[d];
    if(!data) return;

    const text = [
      `${w} - ${d}`,
      `T√≠tulo: ${data.titulo}`,
      ``,
      `Men√∫:`,
      ...data.menu.map(m=>`- ${m}`),
      ``,
      `Ingredientes:`,
      ...data.ingredientes.map(i=>`- ${i}`),
      ``,
      `Paso a paso:`,
      ...data.pasos.map((p,idx)=>`${idx+1}. ${p}`)
    ].join("\n");

    try{
      await navigator.clipboard.writeText(text);
      alert("‚úÖ Receta copiada. P√©gala en WhatsApp o Notas.");
    }catch(e){
      alert("No pude copiar autom√°ticamente. Selecciona y copia manual.");
    }
  });

  // Today badge
  const today = new Date();
  const dias = ["DOMINGO","LUNES","MARTES","MI√âRCOLES","JUEVES","VIERNES","S√ÅBADO"];
  document.getElementById("todayBadge").textContent = `Hoy: ${dias[today.getDay()]}`;

  // Default render
  render();
</script>
</body>
</html>
